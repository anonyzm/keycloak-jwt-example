
# Режим работы (development для тестов)
kc.profile=dev

# Настройки HTTP
http-enabled=true
http-port=8080
http-host=0.0.0.0
http-cors=true
http-cors-allow-credentials=true
http-cors-allowed-methods=GET,POST,PUT,DELETE
http-cors-allowed-origins=*
http-cors-exposed-headers=*

# Отключение проверки iframe
spi-hostname-default-frontend-url=http://keycloak:8080
hostname-strict=false
hostname-strict-https=false
proxy=edge

# Отключение проверки SSL
ssl-required=none

# База данных
db=postgres
db-url=jdbc:postgresql://keycloak-db:5432/keycloak
db-username=keycloak
db-password=password

# Администрирование
admin-user=admin
admin-password=admin

# Импорт реалма (учитываем docker-compose монтирование)
kc.import=file:///opt/keycloak/data/import/realm.json
#kc.import=

# Настройки refresh токенов (должны быть такими по умолчанию)
oidc.grant.refresh-token=true
oidc.grant.refresh-token.rotation=true

# Настройки логирования
log-level=DEBUG
log-console-output=json

# Настройки кеширования
cache=local

# Отключение ненужных фич (для тестов)
features-disabled=admin-fine-grained-authz,client-policies